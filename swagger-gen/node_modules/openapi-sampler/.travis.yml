language: node_js
sudo: false
matrix:
  include:
  - node_js: 4
  - node_js: 9
  - node_js: 4
    env: KARMA=true
  fast_finish: true
env:
  global:
  - GIT_AUTHOR_EMAIL: APIs-GuruBot@users.noreply.github.com
  - GIT_AUTHOR_NAME: APIs-GuruBot
  - secure: RVRJijZYQ1MJnXi5iEUlmskCFnaYtM+DEAs8lffTpHVoHnArT6kQevQn0OY/BMjvTuviEvh6RFEB2SAIBUlTH7wHHhExk3q8h3w3AwPcU8AKvJFb4CcItz0MSYKNkua/fgbp2EzFC/kuB9JYdQP1MDfHSJc6JWhgYBuXSIj/H02/cBZDNPmtPIa0FNOlAD97LJraJ3yjtTJLO6c5u71VQPsO7P3KccTs4F5WzMC0kZwAPfXSLXju+o9TFj5wiLg1+6OwH0eZ4hDKSUS4+tkSTk0AqBXCYnUahlxBovIZBE/fKWqE8JQlL0tSuZxbrf0I01hoyFUVWdd3Uz4azT/VI0WQ9cUOotDOfHZ5NojYP9KSitlK/awmr3pqBVqacrq2n3h8BJo3CgVfKKzu1xUonBP3dkDLPgfjCztj0+IeJ3dTSpODADjrykVKujR0ZNk1e2l76UJc706gyAq/4EYPgPE0qhEVEyuTOMtGpK2FDL/InhD1XZSVlT93ZlBcfHwsBAtPLbWAygFHVOBygWTJJYKhf46CqddAxKi4aBmcDvxSihHY71vbB7OrJjHRxfEstOUJvTfQX8CDJmo0nIHu6gW9XL+9juauNW62bAkgTPyTBydxPTAKX4b4mVK9lnjER7V8ARx3UmVwDbw0v++fK+AOKul8FLlEhFED9wY4yaE=
  - secure: WxIg72wkIfv7pSwWqhBLRl18yxBW9tF441utXTdZ94vbDeQC/NokuxTGWOCEs2VVnbwDrnE1iQuwJJBYjqK8+mywSzcP5dnsxMVLLTkmV4aFOJUWDZrKxeWJ82NqwT8ZRCzXWdO8VPVxHE+ytf8O/CMgTfG3QmvoSTwuVno37Mv1I2eInnrqh9VPbsCgbzDto5q7BNee6XSsmITOMgsEcdnI8JeVpWRXiPWFb9U4nBm+em6rIZpdydCMH95RkWi3VsdcePxJ5pI44ksNgauR3ic6KLTxIL9GOW0KuPSk6+/BHz1xuq7Cetsl/UyZdHwDbp1XnAcOS8msYiL9HdVHbuGOLZx81V3Q3cy6fsrLOrDrCFkT+iJqUURfhaqsqc6lO9fbhcfLpCrfua6QaKJiGb5VQQHTXj8rXbHWQ7aQjW8VxGwAXfNrpDDqzSn3pESQjU5udkui3Z0QkSU8Cuvivc+6ttuqGgI2sXoXskwW03aHfAz9C3SIPZnTLEPTEKYyHzFDIDjeuZ622u2SWK+OF7nmCyRN5JGls/n6gqNYwfixMQTXXQujQXbZuZ2O9ytMMG1Aw8i+CuAvzPHU5JeO0PCWZjII4z9TsnVrBGJTmvziRtRU3bIOQeX9IDlg9UQmyfQJGAw45PhIr7hzSBKgM9qid5vYsz1mwRqRu34G4+4=
before_script:
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
script: gulp test
after_success:
- cat coverage/*/lcov.info > coveralls.txt
- cat coveralls.txt | node_modules/coveralls/bin/coveralls.js
cache:
  directories:
  - node_modules
deploy:
- skip_cleanup: true
  provider: npm
  email: gotsijroman@gmail.com
  api_key:
    secure: TTIC4bYFHXrCUG7Y/u3FHIivOmY0XqSF6AUToUNmxDzl0z9D8XtdJizDJJ7monA0anYJajGzxqATNKHTaKbkrCbHLAIU13XKOASP91rLVI9LcGKb7bT+DWDwT2GH5hr1ZOlmnnhdZBICl+ebnnWcpPKo4upeYMH9FyPfD+er+fThIbKbUecIu9x8a8yZzJGkZp71B4pslHWABtApfpw5hu8Apl4pu9qO9sYbhP/k1NawzjR00w/4+avVU2Rb2EulDQc6zcf9UpW7+Otv3/hh985DLYTvwDCZt6+fTfdesQfCzdNNNanXRsYYAmy46r+l65QO6SdNKxoJmst+owD+JGI76b2sEIRlrC2hF8C1PsWHc+eCSARd0e6I4VjwY5tga+LsHvbAoiYAGvr3aSzDEWot7toEYsf2lOJ9rVG5E2VT71V0fccfqeMR39TrOMB4K2Cbpc3cQCH6j2s79pKE4VUA4n8wnYPWSknTLbAIyZ/K+jYLet0LOaK5zRdryJo68h/Crd1YIqVtFMHHC412cV0lZ61vlLIAAfeESlpW26i4MJT6HpsjM08Wp71veruTzroAjNqNy/8ig9VLrvyq+WuT7tAA/YLeS5BJobip9uyBYekBmy3FTo7SAvWzPzQA5AwlXsRe1C4y0HR+LcDEUCFaWalv0CrH3h26B4BFbrM=
  on:
    tags: true
    condition: $KARMA = true
